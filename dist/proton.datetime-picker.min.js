!function(){var t={picker:"$/proton/datetime-picker/picker.html"},e=angular.module("proton.datetime-picker",["proton.multi-list-picker"]);e.run(["$templateCache",function(e){e.put(t.picker,"<div class='proton-datetime-picker {{type}}'>\n    <proton-multi-list-picker ng-model='model' attachment='{{attachment}}' done='done($model);'>\n        <proton-multi-list-picker-list ng-if='type == \"dateTime\" || type == \"date\"' alias='year' static='true' source='getYears()'></proton-multi-list-picker-list>\n        <proton-multi-list-picker-list ng-if='type == \"dateTime\" || type == \"date\"' alias='month' static='true' source='getMonths()' cycle='true' strict-matching='true'></proton-multi-list-picker-list>\n        <proton-multi-list-picker-list ng-if='type == \"dateTime\" || type == \"date\"' alias='day' static='false' source='getDays()' cycle='true' strict-matching='true'></proton-multi-list-picker-list>\n        <proton-multi-list-picker-divider ng-if='type == \"dateTime\"'></proton-multi-list-picker-divider>\n        <proton-multi-list-picker-list ng-if='type == \"dateTime\" || type == \"time\"' alias='hour' static='true' source='getHours()' cycle='true'></proton-multi-list-picker-list>\n        <proton-multi-list-picker-list ng-if='type == \"dateTime\" || type == \"time\"' alias='minute' static='true' source='getMinutes()' cycle='true'></proton-multi-list-picker-list>\n        <proton-multi-list-picker-list ng-if='(type == \"dateTime\" || type == \"time\") && hours == \"half\"' alias='time' static='true'>\n            <proton-multi-list-picker-list-item>AM</proton-multi-list-picker-list-item>\n            <proton-multi-list-picker-list-item>PM</proton-multi-list-picker-list-item>\n        </proton-multi-list-picker-list>\n    </proton-multi-list-picker>\n</div>")}]);var i=function(t,e){for(var i=void 0,r=1;r<arguments.length;r++)if(t==arguments[r]){i=t;break}return{orElse:function(t){return i||t}}},r=function(t){return t>1582?!(t%4||!(t%100)&&t%400):t>=0?!(t%4):t>=-45?!((t+1)%4):!1};e.directive("protonDatetimePicker",["$parse",function(e){return{restrict:"E",require:"?ngModel",templateUrl:t.picker,scope:{type:"@?",hours:"@?",done:"&?"},link:function(t,o,n){var a=o.parent().scope(),u=e(n.ngModel),l=u.bind(u,a),s=u.assign.bind(u,a);t.type=i(t.type,"dateTime","date","time").orElse("dateTime"),t.hours=i(t.hours,"half","full").orElse("half"),t.months=i(t.months,"names","abbreviations","numbers").orElse("names");var m,c,p=[],d=[];!function(){var e=[];switch(t.months){case"names":e=["January","February","March","April","May","June","July","August","September","October","November","December"];break;case"abbreviations":e=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];break;case"numbers":e=["1","2","3","4","5","6","7","8","9","10","11","12"]}m=[],angular.forEach(e,function(t,e){m.push({label:t,value:e})})}();for(var h=0;h<("half"==t.hours?12:24);h++)p.push({label:(10>h?"0":"")+h,value:h});for(var g=0;60>g;g++)d.push({label:(10>g?"0":"")+g,value:g});n.$observe("attachment",function(e){t.attachment=e}),t.model={},t.$watch(function(){return l()},function(e){var i=new Date;return angular.isUndefined(e)?void(t.model={year:i.getFullYear(),month:i.getMonth(),day:i.getDate(),actualHour:i.getHours(),minute:i.getMinutes()}):("date"==t.type||"dateTime"==t.type?(e instanceof Date||(e=i,s(e)),t.model.year=e.getFullYear(),t.model.month=e.getMonth(),t.model.day=e.getDate(),t.model.actualHour=e.getHours(),t.model.minute=e.getMinutes()):(angular.isObject(e)||(e={},s(a,e)),angular.isNumber(e.hour)||(e.hour=i.getHours()),angular.isNumber(e.minute)||(e.minute=i.getMinutes()),t.model.actualHour=e.hour,t.model.minute=e.minute),void t.$broadcast("protonDatetimePicker:changed",t.model,e))},"time"==t.type),t.$on("protonDatetimePicker:changed",function(){if(t.model){"half"==t.hours?(t.model.hour=t.model.actualHour%12,t.model.time=t.model.actualHour>11?"PM":"AM"):t.model.hour=t.model.actualHour,c=[];for(var e=t.model.year-100;e<=t.model.year+50;e++)c.push({label:""+e,value:e})}}),t.$watch("model",function(e){var i,r;"dateTime"==t.type?(i=new Date,i.setFullYear(e.year),i.setMonth(e.month),i.setDate(e.day),i.setHours(e.hour+("half"==t.hours&&"PM"==e.time?12:0)),i.setMinutes(e.minute),r=i):"date"==t.type?(i=new Date,i.setFullYear(e.year),i.setMonth(e.month),i.setDate(e.day),r=i):r={hour:e.hour+("half"==t.hours&&"PM"==e.time?12:0),minute:e.minute},s(r)},!0),t.getYears=function(){return c},t.getMonths=function(){return m},t.getDays=function(){for(var e=[31,r(t.model.year)?29:28,31,30,31,30,31,31,30,31,30,31][t.model.month],i=[],o=1;e>=o;o++)i.push(o);return i},t.getHours=function(){return p},t.getMinutes=function(){return d}}}}])}();